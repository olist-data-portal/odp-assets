---
alwaysApply: true
---

# 重要な注意事項

## 環境の扱い

- **開発環境**: DevContainerを使用
  - DevContainer起動時に`gcloud auth application-default login --no-launch-browser`が自動的に実行され、GCPリソースへのアクセスが可能になります

## 機密情報の管理

- **機密情報はSecret Managerで管理**: APIキー等の機密情報はSecret Managerで管理する（必要に応じて）
- **ハードコード禁止**: 機密情報をコードに直接記述することは禁止
- **環境変数**: `.env`ファイルを使用（git管理に含めない）
- **GCP認証**: DevContainer起動時に`gcloud auth application-default login --no-launch-browser`が自動的に実行され、GCPリソースへのアクセスが可能になります（サービスアカウントキーは不要）

## データレイク・データウェアハウス

- **データレイク（GCS）**: 共通のGCSバケットを使用
- **データウェアハウス（BigQuery）**: 共通のBigQueryプロジェクトを使用

## 管理対象

- **このリポジトリで管理**: Dagsterアセット定義、dbtモデル、データパイプライン用GCPリソース（GCSバケット）

## TerraformでのGCPリソース管理

- **Terraform管理**: データパイプライン用のGCPリソース（GCSバケット）は`gcp/`ディレクトリでTerraformで管理
- **状態ファイル**: `.tfstate`ファイルはgit管理に含めない（`.gitignore`で除外）
- **機密情報**: `terraform.tfvars`ファイルはgit管理に含めない（機密情報を含む可能性がある）
- **Terraformで管理していないリソース**: 以下のリソースはTerraformで管理していません（手動作成済み）
  - GitHub Actions用のサービスアカウント（CI/CD実行用）
  - Terraform状態ファイル保存用のGCSバケット（`odp-terraform-state`）
