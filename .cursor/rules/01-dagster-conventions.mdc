---
alwaysApply: true
---

# Dagster開発規約

## ガイドライン

- **ドキュメント参照**: 対応するバージョンのDagster公式ドキュメントを優先
- **プロジェクト構成**: `dagster_project/definitions.py`にアセット、ジョブ、スケジュールを定義
- **環境変数**: 機密情報は環境変数から読み込み
  - 本番環境・dev環境: Secret Managerから取得
  - ローカル開発環境: `.env`ファイルから読み込み

## 実装規約

- **アセット定義**: `@asset`デコレータで依存関係を明示的に定義
- **エラーハンドリング**: API呼び出しやデータ処理で適切にエラーハンドリングを行う
- **リトライロジック**: 一時的なエラーの場合はリトライロジックを実装

## 命名規約

- **アセット名**: スネークケースを使用（例: `api_to_gcs`, `gcs_to_bigquery`, `dbt_models`）

## セキュリティ

- **機密情報**: 
  - 本番環境・dev環境: Secret Managerで管理
  - ローカル開発環境: `.env`ファイルを使用（git管理に含めない）
- **ハードコード禁止**: 機密情報をコードに直接記述することは禁止
- **GCP認証**: ローカル開発環境では`gcloud auth application-default login`を使用（サービスアカウントキーは不要）

## 品質

- **明確なコード**: 必要最小限の構成で、明確で理解しやすいコードにする

## 簡潔性

- **必要最小限の機能**: 過剰な実装は行わない
- **余計なコメント**: 説明不要なコメントは削除する
